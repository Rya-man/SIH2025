<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quiz Game</title>
</head>
<body>
  <h1>Quiz Game</h1>

  <input type="text" id="gameID" placeholder="Enter Game ID (1 or 2)">
  <button onclick="loadQuiz()">Fetch Quiz</button>

  <div id="quiz"></div>

  <script>
    async function loadQuiz() {
      const gameID = document.getElementById("gameID").value.trim();
      if (!gameID) return alert("Enter a Game ID");

      try {
        const res = await fetch(`http://127.0.0.1:5000/quiz/${gameID}`);
        const data = await res.json();

        const quizDiv = document.getElementById("quiz");
        quizDiv.innerHTML = "";

        if (data.error) {
          quizDiv.textContent = data.error;
          return;
        }

        quizDiv.innerHTML += `<p>${data.question}</p>`;
        data.options.forEach(opt => {
          const btn = document.createElement("button");
          btn.textContent = opt;
          btn.onclick = () => {
            alert(opt[0] === data.answer ? "✅ Correct!" : `❌ Wrong! Correct: ${data.answer}`);
          };
          quizDiv.appendChild(btn);
        });

      } catch (err) {
        document.getElementById("quiz").textContent = "Failed to fetch quiz: " + err;
      }
    }
  </script>
</body>
</html>
